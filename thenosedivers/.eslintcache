[{"C:\\Projects\\TheShoppies\\thenosedivers\\src\\index.js":"1","C:\\Projects\\TheShoppies\\thenosedivers\\src\\App.js":"2","C:\\Projects\\TheShoppies\\thenosedivers\\src\\reportWebVitals.js":"3","C:\\Projects\\TheShoppies\\thenosedivers\\src\\firebaseconfig.js":"4","C:\\Projects\\TheShoppies\\thenosedivers\\src\\components\\AuthProvider.js":"5","C:\\Projects\\TheShoppies\\thenosedivers\\src\\components\\AuthComponent.js":"6","C:\\Projects\\TheShoppies\\thenosedivers\\src\\components\\Movies.js":"7","C:\\Projects\\TheShoppies\\thenosedivers\\src\\components\\MovieList.js":"8","C:\\Projects\\TheShoppies\\thenosedivers\\src\\components\\UserDashboard.js":"9","C:\\Projects\\TheShoppies\\thenosedivers\\src\\components\\dashboard\\Profile.js":"10","C:\\Projects\\TheShoppies\\thenosedivers\\src\\components\\dashboard\\Friends.js":"11","C:\\Projects\\TheShoppies\\thenosedivers\\src\\components\\dashboard\\History.js":"12"},{"size":511,"mtime":1611772654462,"results":"13","hashOfConfig":"14"},{"size":1013,"mtime":1611946698480,"results":"15","hashOfConfig":"14"},{"size":362,"mtime":499162500000,"results":"16","hashOfConfig":"14"},{"size":673,"mtime":1613939590815,"results":"17","hashOfConfig":"14"},{"size":1650,"mtime":1613936936398,"results":"18","hashOfConfig":"14"},{"size":3215,"mtime":1613936172796,"results":"19","hashOfConfig":"14"},{"size":2865,"mtime":1613157249052,"results":"20","hashOfConfig":"14"},{"size":1938,"mtime":1613935461070,"results":"21","hashOfConfig":"14"},{"size":540,"mtime":1613161784171,"results":"22","hashOfConfig":"14"},{"size":160,"mtime":1613936198296,"results":"23","hashOfConfig":"14"},{"size":1861,"mtime":1613940313617,"results":"24","hashOfConfig":"14"},{"size":612,"mtime":1613940874955,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"pvpal5",{"filePath":"29","messages":"30","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"28"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"40","messages":"41","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"28"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Projects\\TheShoppies\\thenosedivers\\src\\index.js",[],["53","54"],"C:\\Projects\\TheShoppies\\thenosedivers\\src\\App.js",["55","56","57","58","59"],"import \"./styles/App.scss\";\nimport firebase from \"firebase/app\";\nimport db from \"./firebaseconfig\";\nimport React, { useState, useContext } from \"react\";\nimport AuthComponent from \"./components/AuthComponent\";\nimport UserDashboard from \"./components/UserDashboard\";\nimport AuthProvider from \"./components/AuthProvider\";\nimport { UserContext } from \"./components/AuthProvider\";\nimport Movies from \"./components/Movies\";\n\nfunction App() {\n  const { userRef, dbRef } = useContext(UserContext);\n\n  const fetch = function (prop) {\n    console.log(prop.uid);\n    console.log(userRef, dbRef);\n  };\n  const closeAuthComponent = function () {\n    document.getElementById(\"AuthComponent\").style.height = \"0\";\n  };\n  const openAuthComponent = function () {\n    document.getElementById(\"AuthComponent\").style.height = \"100%\";\n  };\n  return (\n    <AuthProvider>\n      <AuthComponent toggle={closeAuthComponent}></AuthComponent>\n      <Movies toggle={openAuthComponent}></Movies>\n    </AuthProvider>\n  );\n}\n\nexport default App;\n","C:\\Projects\\TheShoppies\\thenosedivers\\src\\reportWebVitals.js",[],"C:\\Projects\\TheShoppies\\thenosedivers\\src\\firebaseconfig.js",[],"C:\\Projects\\TheShoppies\\thenosedivers\\src\\components\\AuthProvider.js",[],"C:\\Projects\\TheShoppies\\thenosedivers\\src\\components\\AuthComponent.js",["60","61"],"C:\\Projects\\TheShoppies\\thenosedivers\\src\\components\\Movies.js",["62","63","64"],"import \"../styles/Movies.scss\";\r\nimport { auth, db } from \"../firebaseconfig\";\r\nimport React, { useEffect, useState, useContext } from \"react\";\r\nimport { UserContext } from \"./AuthProvider\";\r\nimport MovieList from \"./MovieList\";\r\n\r\nfunction Movies(props) {\r\n  const { toggle } = props;\r\n  const [searchText, setSearchText] = useState(\"\");\r\n  const [movieResults, setMovieResults] = useState({});\r\n  const [history, setHistory] = useState({});\r\n  const { userRef, dbRef } = useContext(UserContext);\r\n\r\n  const rateMovie = function (e) {\r\n    const movieID = e.target.parentElement.id;\r\n    const movieRating = e.target.value;\r\n    /*\r\n    const docRef = await dbRef.get();\r\n    const docHistoryRef = await docRef.data();\r\n    var newRatings = await docHistoryRef.ratings;\r\n    newRatings[movieID] = movieRating;\r\n    */\r\n    console.log(movieID, movieRating);\r\n    dbRef\r\n      .update({ [`ratings.${movieID}`]: parseInt(movieRating) })\r\n      .then(console.log(\"updated\", movieRating))\r\n      .then(updateHistory(movieID, movieRating))\r\n      .catch((err) => console.error(\"updating history failed\", err));\r\n  };\r\n\r\n  const updateHistory = function (id, rating) {\r\n    const newHistory = history;\r\n    newHistory[id] = parseInt(rating);\r\n    setHistory(newHistory);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (searchText !== \"\") {\r\n      fetch(\"https://www.omdbapi.com?apikey=3fe96115&s=\" + searchText)\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          console.log(data);\r\n          setMovieResults(data);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n    console.log(history);\r\n  }, [searchText]);\r\n\r\n  useEffect(() => {\r\n    //try to achieve componentDidMonut\r\n    //but wait for dbRef is ready from null to firestore value\r\n    if(dbRef){\r\n      dbRef.get().then((data) => {\r\n        setHistory(data.data().ratings);\r\n      });\r\n    }\r\n  }, [dbRef]);\r\n\r\n  return (\r\n    <section className=\"MovieComponent\">\r\n      <button id=\"AuthToggle\" onClick={toggle}>\r\n        {userRef ? \"Manage Account\" : \"Join Now\"}\r\n      </button>\r\n      <div className=\"MovieSearchLanding\">\r\n        <h1 id=\"title\">\r\n          Do you have similar taste in movie?\r\n          <br />\r\n          Let's find out.\r\n        </h1>\r\n        <h4 id=\"prompt\">The ultimate movie recommender among friends.</h4>\r\n        <input\r\n          id=\"searchText\"\r\n          onChange={(e) => {\r\n            setSearchText(e.target.value);\r\n          }}\r\n          placeholder=\"Search a movie\"\r\n        ></input>\r\n      </div>\r\n      <div className=\"MovieResults\">\r\n        {movieResults.Response === \"True\" ? (\r\n          <MovieList\r\n            movies={movieResults}\r\n            rateMovie={rateMovie}\r\n            history={history}\r\n          />\r\n        ) : (\r\n          <h1>No Results</h1>\r\n        )}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Movies;\r\n","C:\\Projects\\TheShoppies\\thenosedivers\\src\\components\\MovieList.js",[],"C:\\Projects\\TheShoppies\\thenosedivers\\src\\components\\UserDashboard.js",[],"C:\\Projects\\TheShoppies\\thenosedivers\\src\\components\\dashboard\\Profile.js",[],"C:\\Projects\\TheShoppies\\thenosedivers\\src\\components\\dashboard\\Friends.js",["65","66","67"],"C:\\Projects\\TheShoppies\\thenosedivers\\src\\components\\dashboard\\History.js",[],{"ruleId":"68","replacedBy":"69"},{"ruleId":"70","replacedBy":"71"},{"ruleId":"72","severity":1,"message":"73","line":2,"column":8,"nodeType":"74","messageId":"75","endLine":2,"endColumn":16},{"ruleId":"72","severity":1,"message":"76","line":3,"column":8,"nodeType":"74","messageId":"75","endLine":3,"endColumn":10},{"ruleId":"72","severity":1,"message":"77","line":4,"column":17,"nodeType":"74","messageId":"75","endLine":4,"endColumn":25},{"ruleId":"72","severity":1,"message":"78","line":6,"column":8,"nodeType":"74","messageId":"75","endLine":6,"endColumn":21},{"ruleId":"72","severity":1,"message":"79","line":14,"column":9,"nodeType":"74","messageId":"75","endLine":14,"endColumn":14},{"ruleId":"72","severity":1,"message":"76","line":2,"column":16,"nodeType":"74","messageId":"75","endLine":2,"endColumn":18},{"ruleId":"72","severity":1,"message":"80","line":3,"column":17,"nodeType":"74","messageId":"75","endLine":3,"endColumn":26},{"ruleId":"72","severity":1,"message":"81","line":2,"column":10,"nodeType":"74","messageId":"75","endLine":2,"endColumn":14},{"ruleId":"72","severity":1,"message":"76","line":2,"column":16,"nodeType":"74","messageId":"75","endLine":2,"endColumn":18},{"ruleId":"82","severity":1,"message":"83","line":48,"column":6,"nodeType":"84","endLine":48,"endColumn":18,"suggestions":"85"},{"ruleId":"72","severity":1,"message":"80","line":1,"column":39,"nodeType":"74","messageId":"75","endLine":1,"endColumn":48},{"ruleId":"72","severity":1,"message":"81","line":3,"column":10,"nodeType":"74","messageId":"75","endLine":3,"endColumn":14},{"ruleId":"72","severity":1,"message":"86","line":8,"column":11,"nodeType":"74","messageId":"75","endLine":8,"endColumn":18},"no-native-reassign",["87"],"no-negated-in-lhs",["88"],"no-unused-vars","'firebase' is defined but never used.","Identifier","unusedVar","'db' is defined but never used.","'useState' is defined but never used.","'UserDashboard' is defined but never used.","'fetch' is assigned a value but never used.","'useEffect' is defined but never used.","'auth' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.","ArrayExpression",["89"],"'userRef' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"90","fix":"91"},"Update the dependencies array to be: [history, searchText]",{"range":"92","text":"93"},[1620,1632],"[history, searchText]"]